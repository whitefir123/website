<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试 - ProjectShowcase 组件</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/assets/css/custom.css" rel="stylesheet">
</head>
<body class="bg-black text-white min-h-screen p-8">
    
    <div class="max-w-7xl mx-auto">
        <h1 class="text-4xl font-bold mb-8 tracking-tighter">ProjectShowcase 组件测试</h1>
        
        <div class="glass-card p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4 tracking-tighter">测试说明</h2>
            <ul class="space-y-2 text-gray-400 leading-relaxed">
                <li>✅ 测试项目数据加载（从 /data/projects.json）</li>
                <li>✅ 测试项目卡片渲染（玻璃拟态效果）</li>
                <li>✅ 测试技术栈标签云布局</li>
                <li>✅ 测试点击导航功能</li>
                <li>✅ 测试 hover 动效（300ms 过渡）</li>
            </ul>
        </div>
        
        <h2 class="text-3xl font-bold mb-8 tracking-tighter">项目展示</h2>
        
        <!-- 项目展示容器 -->
        <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- 加载中提示 -->
            <div class="col-span-full text-center py-12">
                <i class="fas fa-spinner fa-spin text-4xl text-white/30 mb-4"></i>
                <p class="text-white/50">正在加载项目...</p>
            </div>
        </div>
        
        <div class="mt-12 glass-card p-6">
            <h2 class="text-2xl font-bold mb-4 tracking-tighter">控制台日志</h2>
            <p class="text-gray-400 leading-relaxed">
                请打开浏览器开发者工具的控制台查看详细日志信息。
            </p>
        </div>
    </div>
    
    <!-- 核心脚本 -->
    <script src="/js/data-loader.js"></script>
    <script src="/js/animations.js"></script>
    <script src="/js/project-showcase.js"></script>
    <script src="/js/main.js"></script>
    
    <!-- 初始化测试 -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('='.repeat(60));
            console.log('🧪 ProjectShowcase 组件测试开始');
            console.log('='.repeat(60));
            
            try {
                // 创建 ProjectShowcase 实例
                console.log('\n📦 步骤 1: 创建 ProjectShowcase 实例');
                const projectShowcase = new ProjectShowcase('projects-container', '/data/projects.json');
                console.log('✅ 实例创建成功');
                
                // 加载项目数据
                console.log('\n📡 步骤 2: 加载项目数据');
                await projectShowcase.loadProjects();
                console.log('✅ 数据加载完成');
                
                // 输出加载的项目信息
                console.log('\n📊 步骤 3: 项目数据统计');
                console.log(`   - 总项目数: ${projectShowcase.projects.length}`);
                projectShowcase.projects.forEach((project, index) => {
                    console.log(`   ${index + 1}. ${project.title} (${project.status})`);
                    console.log(`      技术栈: ${project.techStack.join(', ')}`);
                });
                
                // 测试缓存
                console.log('\n💾 步骤 4: 测试数据缓存');
                const cacheStats = dataLoader.getCacheStats();
                console.log(`   - 缓存条目数: ${cacheStats.size}`);
                console.log(`   - 缓存键: ${cacheStats.keys.join(', ')}`);
                
                console.log('\n' + '='.repeat(60));
                console.log('✅ 所有测试完成！');
                console.log('='.repeat(60));
                
                // 显示成功消息
                setTimeout(() => {
                    if (typeof showSuccess === 'function') {
                        showSuccess('ProjectShowcase 组件测试通过！');
                    }
                }, 500);
                
            } catch (error) {
                console.error('\n❌ 测试失败:', error);
                console.log('='.repeat(60));
            }
        });
    </script>
    
</body>
</html>
